<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ğŸ®é—–é—œä»»å‹™</title>

<!-- âœ… å­—å‹ï¼šå¯è‡ªè¡Œæ›´æ›æˆ–èª¿æ•´ -->
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">

<style>
/* ============================================================
   ğŸ¨ é…è‰²èˆ‡å­—ç´šè¨­å®šå€ï¼ˆå¯è‡ªè¡Œå¾®èª¿ï¼‰
   ============================================================ */
:root {
  --font-base: 18px;  /* ä¸€èˆ¬èªªæ˜æ–‡å­—å¤§å°ï¼Œå¯è‡ªè¡Œèª¿æ•´ã€‚ä¾‹ï¼šä¸»å¡å…§çš„ä»»å‹™èªªæ˜ã€Œæ­¡è¿åƒåŠ å¹¹æ‰é›™é¢é™³é—–é—œæ´»å‹•ï½ã€å³ä½¿ç”¨æ­¤å¤§å° */
  --font-lg: 25px;    /* é—–é—œæ´»å‹•æ¨™é¡Œæ–‡å­—å¤§å°ï¼Œå¯è‡ªè¡Œèª¿æ•´ã€‚ä¾‹ï¼šã€Œç¬¬1é—œã€ã€ã€Œç¬¬2é—œã€é€™äº›æ¨™é¡Œå­—å³ä½¿ç”¨æ­¤å¤§å° */
  --font-xl: 30px;    /* é¦–é ä¸»æ¨™é¡Œæ–‡å­—å¤§å°ï¼Œå¯è‡ªè¡Œèª¿æ•´ã€‚ä¾‹ï¼šé¦–é ã€ŒğŸ•™é—–é—œä»»å‹™ğŸ•’ã€é€™è¡Œä¸»æ¨™é¡Œå³ä½¿ç”¨æ­¤å¤§å° */
  --muted: #6b7280;   /* æ’è¡Œæ¦œå‰¯æ–‡å­—é¡è‰²ï¼Œå¯è‡ªè¡Œèª¿æ•´ã€‚ä¾‹ï¼šå¡ç‰‡å…§ç°è‰²çš„æç¤ºæ–‡å­—æˆ–å‰¯æ¨™é¡Œçš†ç”¨æ­¤è‰² */
  --ink: #111827;     /* ä¸»æ–‡å­—é¡è‰²ï¼Œå¯è‡ªè¡Œèª¿æ•´ã€‚ä¾‹ï¼šæ’è¡Œæ¦œå§“åã€åˆ†æ•¸ã€åœ°åœ–æç¤ºæ¡†ä¸»å­—é«”å³ä½¿ç”¨æ­¤é¡è‰² */
}

/* ============================================================
   ğŸ–¼ï¸ é é¢æ•´é«”è¨­å®š
   ============================================================ */
body {
  margin: 0;
  font-family: var(--font-family-main);
  background: linear-gradient(0deg, #ebb3a9 0%, #f5a28c 45%, #ff906e 100%); /* ä¸»èƒŒæ™¯æ¼¸å±¤ï¼Œå¯è‡ªè¡Œèª¿æ•´é¡è‰²æ¯”ä¾‹ */
  color: var(--ink);
  overflow: hidden; /* å›ºå®šæ•´é ä¸æ²å‹• */
  text-shadow: 1px 1px 2px rgba(0,0,0,0.15); /* ä¸»æ–‡å­—é™°å½±ï¼Œå¯èª¿æ•´æ·±åº¦ */
}

/* ============================================================
   ğŸ“± ä¸»å®¹å™¨èˆ‡ç‰ˆé¢åˆ†å€
   ============================================================ */
#app {
  display: flex;
  flex-direction: column;
  height: 100vh; /* é«˜åº¦å…¨è¢å¹• */
}

/* ä¸ŠåŠéƒ¨ä¸»ä»»å‹™å¡ç‰‡å€ */
#main-area {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 55vh; /* ä¸»å¡å€é«˜åº¦æ¯”ä¾‹ï¼Œå¯è‡ªè¡Œå¾®èª¿ */
}

/* ä¸»ä»»å‹™å¡ç‰‡æ¨£å¼ */
.main-card {
  background: linear-gradient(0deg, rgba(247, 237, 143, 1) 0%, rgba(241, 223, 57, 1) 71%, rgba(237, 214, 5, 1) 100%); /* é»ƒé‡‘æ¼¸å±¤ï¼Œå¯èª¿ */
  border-radius: 24px; /* å¡ç‰‡åœ“è§’ï¼Œå¯èª¿ */
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2); /* å¡ç‰‡é™°å½±ï¼Œå¯èª¿ */
  text-align: center;
  width: 90vw; /* å¯¬åº¦å è¢å¹•æ¯”ä¾‹ï¼Œå¯èª¿ */
  max-width: 880px; /* æœ€å¤§å¯¬åº¦é™åˆ¶ï¼Œå¯èª¿ */
  padding: 30px 20px; /* å…§è·ï¼Œå¯èª¿ */
  backdrop-filter: blur(6px); /* æ¨¡ç³ŠèƒŒæ™¯ï¼Œå¯èª¿ */
  transition: all 0.6s ease; /* å‹•ç•«é€Ÿåº¦ï¼Œå¯èª¿ */
}

/* ä¸»å¡å…§æ–‡å­—å¤§å° */
.main-card h1 { font-size: var(--font-xl); margin: 10px 0; }
.main-card p { font-size: var(--font-base); color: var(--muted); }

/* ============================================================
   ğŸŸ¡ é€šç”¨æŒ‰éˆ•æ¨£å¼
   ============================================================ */
button {
  background-color: #ffb703;  /* æŒ‰éˆ•åº•è‰²ï¼Œå¯èª¿ */
  border: none;
  border-radius: 10px;  /* åœ“è§’å¤§å°ï¼Œå¯èª¿ */
  color: #111;  /* æŒ‰éˆ•æ–‡å­—é¡è‰²ï¼Œå¯èª¿ */
  font-size: var(--font-base);
  padding: 10px 25px;  /* å…§è·ï¼Œå¯èª¿ */
  cursor: pointer;
  margin-top: 15px;  /* èˆ‡ä¸Šæ–¹é–“è·ï¼Œå¯èª¿ */
  box-shadow: 0 4px 8px rgba(0,0,0,0.2); /* é™°å½±å¼·åº¦ï¼Œå¯èª¿ */
}
button:hover { background-color: #ffd166; } /* æ»‘éé¡è‰²ï¼Œå¯èª¿ */

/* ============================================================
   â¬‡ï¸ ä¸‹åŠéƒ¨ï¼šæ’è¡Œæ¦œï¼‹åœ°åœ–é›™å€å¡Š
   ============================================================ */
#bottom-area {
  display: flex;
  height: 45%;  /* é«˜åº¦æ¯”ä¾‹ï¼Œå¯èª¿ */
  border-top: 4px solid #fff; /* ç™½è‰²åˆ†éš”ç·šï¼Œå¯èª¿é¡è‰²èˆ‡ç²—ç´° */
}

/* ================== ğŸ† æ’è¡Œæ¦œ ================== */
#leaderboard {
  flex: 1;
  background: linear-gradient(180deg, #a9a9eb 0%, #9ee0ff 77%, #00d4ff 100%); /* æ’è¡Œæ¦œèƒŒæ™¯æ¼¸å±¤ï¼Œå¯èª¿ */
  overflow-y: auto;
  overflow-x: hidden;
  padding-bottom: 60px; /* åº•éƒ¨ç©ºé–“ï¼Œå¯èª¿ */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  position: relative;
}

/* æ’è¡Œæ¦œæ¨™é¡Œ */
#leaderboard h2 {
  font-size: 26px; /* æ’è¡Œæ¦œæ¨™é¡Œæ–‡å­—å¤§å°ï¼Œå¯èª¿ */
  margin: 8px 0 12px;
  color: #111;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* æ’è¡Œæ¦œæç¤ºï¼šå³ä¸Šè§’ ğŸ‘‰ å¾€å·¦æ»‘ç‚ºåœ°åœ– */
#leaderboard .hint-box {
  position: absolute;
  top: 10px;
  right: 10px;
  background: rgba(220,220,220,0.92); /* æç¤ºæ¡†åº•è‰²ï¼Œå¯èª¿ */
  border-radius: 8px;
  padding: 4px 10px; /* æç¤ºæ¡†å…§è·ï¼Œå¯èª¿ */
  font-size: 14px; /* æç¤ºæ–‡å­—å¤§å°ï¼Œå¯èª¿ */
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  white-space: nowrap;
  z-index: 9999;
}

/* æ’è¡Œæ¦œè¡¨æ ¼æ¨£å¼ */
table {
  width: 95%;
  border-collapse: collapse;
  font-size: 18px; /* è¡¨æ ¼å­—é«”å¤§å°ï¼Œå¯èª¿ */
  color: #111;
}
th, td {
  text-align: center;
  padding: 6px 0; /* å„²å­˜æ ¼å…§è·ï¼Œå¯èª¿ */
}
th { background-color: rgba(255, 255, 255, 0.4); } /* è¡¨é ­åº•è‰²ï¼Œå¯èª¿ */
tr:nth-child(even) { background-color: rgba(255, 255, 255, 0.2); } /* äº¤éŒ¯åˆ—åº•è‰²ï¼Œå¯èª¿ */

  /* ============================================================
   ğŸª¶ æ’åå‹•ç•«ï¼ˆä¸Šå‡ï¼ä¸‹é™ï¼‰æ•ˆæœ
   ============================================================ */
.rank-up {
  animation: rankUp 1s ease; /* æ’åä¸Šå‡å‹•ç•«æ™‚é–“ï¼Œå¯èª¿ */
}
.rank-down {
  animation: rankDown 1s ease; /* æ’åä¸‹é™å‹•ç•«æ™‚é–“ï¼Œå¯èª¿ */
}
@keyframes rankUp {
  0% { transform: translateY(20px); opacity: 0.4; }
  100% { transform: translateY(0); opacity: 1; }
}
@keyframes rankDown {
  0% { transform: translateY(-20px); opacity: 0.4; }
  100% { transform: translateY(0); opacity: 1; }
}

/* ============================================================
   ğŸ—ºï¸ åœ°åœ–å€åŸŸè¨­å®š
   ============================================================ */
#map {
  flex: 1.2; /* å æ¯”ï¼Œå¯èª¿ */
  height: 100%; 
  position: relative;
  background-color: #f0f0f0; /* åœ°åœ–èƒŒæ™¯åº•è‰²ï¼Œå¯èª¿ */
}

/* Leaflet åœ°åœ–å®¹å™¨è¨­å®š */
.leaflet-container {
  width: 100%;
  height: 100%;
  z-index: 1;
  border-left: 4px solid #fff; /* åˆ†éš”ç·šï¼Œå¯èª¿é¡è‰²èˆ‡ç²—ç´° */
}

/* ============================================================
   ğŸ“ Leaflet æµ®æ°´å°ï¼ˆå³ä¸‹è§’ï¼‰
   ============================================================ */
.leaflet-control-attribution {
  background-color: rgba(180, 180, 180, 0.9); /* æµ®æ°´å°åº•è‰²ï¼Œå¯èª¿ */
  color: #fff; /* æµ®æ°´å°æ–‡å­—é¡è‰²ï¼Œå¯èª¿ */
  border-radius: 4px; /* æµ®æ°´å°åœ“è§’ï¼Œå¯èª¿ */
  font-size: 12px; /* æµ®æ°´å°æ–‡å­—å¤§å°ï¼Œå¯èª¿ */
  padding: 3px 8px; /* æµ®æ°´å°å…§è·ï¼Œå¯èª¿ */
  text-align: right;
}
.leaflet-control-attribution::after {
  content: " | MYs Map Â© 2025"; /* æµ®æ°´å°æ–‡å­—ï¼Œå¯è‡ªè¨‚ä½†è«‹å‹¿ç§»é™¤å¹´ä»½ */
  color: #fff;
}

/* ============================================================
   ğŸ“± éŸ¿æ‡‰å¼ï¼šæ‰‹æ©Ÿå„ªåŒ–ç‰ˆé¢
   ============================================================ */
@media (max-width: 768px) {
  #bottom-area { flex-direction: column; height: 48%; } /* æ”¹æˆä¸Šä¸‹æ’åˆ—ï¼Œå¯èª¿ */
  #leaderboard { order: 2; height: 52%; }
  #map { order: 1; height: 48%; }
  table { font-size: 16px; } /* æ‰‹æ©Ÿè¡¨æ ¼å­—é«”å¤§å°ï¼Œå¯èª¿ */
}
</style>
</head>

<body>
<div id="app">
  <!-- ========================== ä¸ŠåŠéƒ¨ï¼šä¸»å¡ ========================== -->
  <section id="main-area">
    <div class="main-card" id="mainCard">
      <h1>ğŸ® å©šç¦®é—–é—œä»»å‹™</h1>
      <p>å®Œæˆä»»å‹™å³å¯ç²å¾—ç©åˆ†ï¼ŒæŒ‘æˆ°æ’è¡Œæ¦œï¼</p>
      <button id="startBtn">é–‹å§‹æŒ‘æˆ°</button>
    </div>
  </section>

  <!-- ========================== ä¸‹åŠéƒ¨ï¼šæ’è¡Œæ¦œï¼‹åœ°åœ– ========================== -->
  <section id="bottom-area">
    <!-- ğŸ† æ’è¡Œæ¦œå€ -->
    <div id="leaderboard">
      <div class="hint-box">ğŸ‘‰ å¾€å·¦æ»‘æŸ¥çœ‹åœ°åœ–</div>
      <h2>ğŸ† å³æ™‚æ’è¡Œæ¦œ</h2>
      <table id="rankTable">
        <thead>
          <tr><th>åæ¬¡</th><th>ç©å®¶</th><th>åˆ†æ•¸</th></tr>
        </thead>
        <tbody id="rankBody">
          <tr><td>ğŸ¥‡</td><td>é¦¬å°ç¨‹</td><td>120</td></tr>
          <tr><td>ğŸ¥ˆ</td><td>é˜¿çŠ</td><td>115</td></tr>
          <tr><td>ğŸ¥‰</td><td>å¨åˆ©</td><td>110</td></tr>
          <tr><td>4</td><td>å°é›¨</td><td>95</td></tr>
          <tr><td>5</td><td>é˜¿å¿—</td><td>80</td></tr>
        </tbody>
      </table>
    </div>

    <!-- ğŸ—ºï¸ åœ°åœ–å€ -->
    <div id="map"></div>
  </section>
</div>

<!-- âœ… å¼•å…¥ Leaflet åœ°åœ– -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
/* ============================================================
   <======== æª”æ¡ˆç”¨é€”ï¼šç³»çµ±å¸¸æ•¸ã€åœ°åœ–åˆå§‹åŒ–ã€é—–é—œé‚è¼¯ ======== >
   ============================================================ */

/* -------- Leaflet åœ°åœ–åˆå§‹åŒ–è¨­å®š -------- */
const map = L.map('map', {
  zoomControl: false, /* éš±è—é è¨­ç¸®æ”¾æŒ‰éˆ• */
  attributionControl: true /* é¡¯ç¤ºå³ä¸‹æµ®æ°´å° */
}).setView([25.034, 121.5645], 17.4); /* åœ°åœ–åˆå§‹ä¸­å¿ƒåº§æ¨™ï¼Œå¯èª¿æ•´ä½ç½®èˆ‡ç¸®æ”¾å±¤ç´š */

/* -------- ä½¿ç”¨é è¨­ OpenStreetMap åœ–è³‡ -------- */
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  maxZoom: 19,
  attribution: ''
}).addTo(map);

/* -------- ä»»å‹™é»è³‡æ–™ -------- */
const missions = [
  { id: 1, name: "è¿è³“æ‰“å¡", coords: [25.0341, 121.5643] },
  { id: 2, name: "ç¥ç¦ç•™è¨€", coords: [25.0342, 121.5641] },
  { id: 3, name: "äº’å‹•æ‹ç…§", coords: [25.0343, 121.5640] },
  { id: 4, name: "æ‰¾æ–°äººæ‹ç…§", coords: [25.0340, 121.5644] },
  { id: 5, name: "å°éŠæˆ²æŒ‘æˆ°", coords: [25.0345, 121.5647] },
  { id: 6, name: "æœ€çµ‚å•ç­”æŒ‘æˆ°", coords: [25.0346, 121.5649] } /* ç¬¬å…­é—œåœ°åœ–åº§æ¨™ï¼Œå¯èª¿ */
];

/* -------- åœ¨åœ°åœ–ä¸ŠåŠ å…¥æ¨™è¨˜ -------- */
missions.forEach(m => {
  const marker = L.marker(m.coords).addTo(map);
  marker.bindPopup(`<b>${m.name}</b>`);
});

/* ============================================================
   ğŸ† æ’è¡Œæ¦œé‚è¼¯èˆ‡å‹•ç•«
   ============================================================ */
const rankBody = document.getElementById('rankBody');

/* æ¨¡æ“¬æ’è¡Œæ¦œè³‡æ–™ï¼ˆå¯èˆ‡å¾Œç«¯ä¸²æ¥ï¼‰ */
let leaderboardData = [
  { name: "é¦¬å°ç¨‹", score: 120 },
  { name: "é˜¿çŠ", score: 115 },
  { name: "å¨åˆ©", score: 110 },
  { name: "å°é›¨", score: 95 },
  { name: "é˜¿å¿—", score: 80 }
];

/* -------- æ›´æ–°æ’è¡Œæ¦œå‡½å¼ -------- */
function updateLeaderboard() {
  /* æ’åºé«˜åˆ†åœ¨å‰ */
  leaderboardData.sort((a, b) => b.score - a.score);

  rankBody.innerHTML = "";
  leaderboardData.forEach((p, i) => {
    const rankNum = i + 1;
    /* ğŸ… åæ¬¡é¡¯ç¤ºå‰ä¸‰åç‰¹æ®Šåœ–ç¤º */
    const medal = rankNum === 1 ? "ğŸ¥‡" : rankNum === 2 ? "ğŸ¥ˆ" : rankNum === 3 ? "ğŸ¥‰" : rankNum;
    const tr = document.createElement("tr");
    tr.innerHTML = `<td>${medal}</td><td>${p.name}</td><td>${p.score}</td>`;
    rankBody.appendChild(tr);
  });
}

/* åˆå§‹åŒ–é¡¯ç¤ºä¸€æ¬¡ */
updateLeaderboard();

/* ============================================================
   ğŸ¯ ç¬¬4é—œï¼ç¬¬5é—œ éš¨æ©Ÿåˆ†æµé‚è¼¯
   ============================================================ */
/* true: 4->5ï¼›false: 5->4 */
const routeOrder = Math.random() > 0.5; // éš¨æ©Ÿåˆ†é…ï¼Œå¯æ”¹ç‚ºå›ºå®š true/false æ¸¬è©¦

if (routeOrder) {
  console.log("ğŸ‘£ è·¯ç·šAï¼šå…ˆç¬¬4é—œâ†’ç¬¬5é—œ");
} else {
  console.log("ğŸ‘£ è·¯ç·šBï¼šå…ˆç¬¬5é—œâ†’ç¬¬4é—œ");
}

/* ============================================================
   ğŸ§© ç¬¬6é—œï¼šå©šç¦®è¶£å‘³å•ç­”ï¼ˆå››é¸ä¸€ï¼‰
   ============================================================ */
const quizData = [
  {
    q: "ğŸ© å•é¡Œ1ï¼šæ–°éƒç¬¬ä¸€æ¬¡è¦‹åˆ°æ–°å¨˜æ™‚çš„åæ‡‰æ˜¯ï¼Ÿ",
    opts: ["A. ç·Šå¼µåˆ°è¬›ä¸å‡ºè©±", "B. é¦¬ä¸Šå‘Šç™½", "C. ç•¶ä½œæ²’çœ‹åˆ°", "D. èªéŒ¯äºº"],
    ans: 0
  },
  {
    q: "ğŸ’ å•é¡Œ2ï¼šä»–å€‘çš„ç¬¬ä¸€æ¬¡ç´„æœƒåœ°é»æ˜¯ï¼Ÿ",
    opts: ["A. é›»å½±é™¢", "B. å’–å•¡å»³", "C. å¤œå¸‚", "D. æ›¸åº—"],
    ans: 1
  },
  {
    q: "ğŸ° å•é¡Œ3ï¼šå©šç¦®è›‹ç³•çš„å£å‘³æ˜¯ï¼Ÿ",
    opts: ["A. è‰è“", "B. å·§å…‹åŠ›", "C. æŠ¹èŒ¶", "D. é¦™è‰"],
    ans: 2
  },
  {
    q: "ğŸ“¸ å•é¡Œ4ï¼šå©šç¦®ä¸Šæœ‰ç‰¹åˆ¥è¨­è¨ˆçš„äº’å‹•æ˜¯å“ªå€‹ï¼Ÿ",
    opts: ["A. NFC ä»»å‹™å¡", "B. QR æŠ½ç", "C. KTV æŒ‘æˆ°", "D. å¤§åˆç…§æ‹¼åœ–"],
    ans: 0
  },
  {
    q: "ğŸµ å•é¡Œ5ï¼šæ–°éƒæœ€æ“…é•·çš„æ¨‚å™¨æ˜¯ï¼Ÿ",
    opts: ["A. å‰ä»–", "B. é¼“", "C. é‹¼ç´", "D. å°æç´"],
    ans: 0
  },
  {
    q: "ğŸ å•é¡Œ6ï¼šæœ€å¾Œé€å‡ºçš„ç¥ç§˜ç¦®ç‰©æ˜¯ä»€éº¼ï¼Ÿ",
    opts: ["A. NFC ç´€å¿µå¡", "B. DIY æ‰‹ç’°", "C. æ‹ç«‹å¾—ç…§ç‰‡", "D. é©šå–œå½±ç‰‡"],
    ans: 3
  }
];

/* -------- å•ç­”å€é¡¯ç¤ºèˆ‡äº’å‹• -------- */
const mainCard = document.getElementById("mainCard");
const startBtn = document.getElementById("startBtn");

let currentQ = 0;
let score = 0;

function showQuestion() {
  const q = quizData[currentQ];
  let html = `<h1>ç¬¬ ${currentQ + 1} é¡Œ</h1><p>${q.q}</p>`;
  q.opts.forEach((opt, i) => {
    html += `<button onclick="checkAnswer(${i})">${opt}</button>`;
  });
  mainCard.innerHTML = html;
}

/* -------- æª¢æŸ¥ç­”æ¡ˆ -------- */
function checkAnswer(i) {
  const correct = quizData[currentQ].ans;
  const buttons = mainCard.querySelectorAll("button");
  buttons.forEach(btn => btn.disabled = true);

  if (i === correct) {
    score += 10; /* ç­”å°åŠ åˆ†ï¼Œå¯èª¿ */
    mainCard.innerHTML += "<p style='font-size:28px; color:green;'>âœ… ç­”å°ï¼</p>";
  } else {
    mainCard.innerHTML += "<p style='font-size:28px; color:red;'>âŒ ç­”éŒ¯ï¼</p>";
  }

  /* ä¸‹ä¸€é¡Œå»¶é²åˆ‡æ› */
  setTimeout(() => {
    currentQ++;
    if (currentQ < quizData.length) {
      showQuestion();
    } else {
      mainCard.innerHTML = `<h1>ğŸ‰ å…¨éƒ¨å®Œæˆï¼</h1><p>ä½ çš„å¾—åˆ†ï¼š${score} åˆ†</p>`;
      leaderboardData.push({ name: "ç©å®¶", score });
      updateLeaderboard();
    }
  }, 1500); // å»¶é²åˆ‡æ›ç§’æ•¸ï¼Œå¯èª¿
}

/* -------- é–‹å§‹ç­”é¡Œ -------- */
startBtn.addEventListener("click", showQuestion);
</script>
</body>
</html>
